// 343. æ•´æ•°æ‹†åˆ†
// æç¤º
// ä¸­ç­‰
// ç»™å®šä¸€ä¸ªæ­£æ•´æ•° n ï¼Œå°†å…¶æ‹†åˆ†ä¸º k ä¸ª æ­£æ•´æ•° çš„å’Œï¼ˆ k >= 2 ï¼‰ï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚
// è¿”å› ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯ ã€‚

// ç¤ºä¾‹ 1:
// è¾“å…¥: n = 2
// è¾“å‡º: 1
// è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1ã€‚

// ç¤ºä¾‹ 2:
// è¾“å…¥: n = 10
// è¾“å‡º: 36
// è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36ã€‚

// æç¤º:
// 2 <= n <= 58


#include<iostream>
#include<vector>
using std::vector;

class Solution {
public:
    int integerBreak(int n) {

    }
};

// 16:44--16:59(è¯»é¢˜æ‰¾æ€è·¯)--15:10
// è´ªå¿ƒ
// åˆ†çš„æ•°éœ€è¦å¤§äºç­‰äº 3 4 æ‰æœ‰æ„ä¹‰
// æ»¡è¶³ä¸Šé¢çš„æ¡ä»¶æ—¶ï¼Œåˆ†è§£çš„ä¸ªæ•°è¶Šå¤šè¶Šå¥½
// 3 è¶Šå¤šè¶Šå¥½
// æ—¶é—´å¤æ‚åº¦ï¼šO (n)
// ç©ºé—´å¤æ‚åº¦ï¼šO (1)
class Solution {
public:
    int integerBreak(int n) {
        // å·²çŸ¥ n >= 2
        if(n == 2) return 1;    // 1*1
        if(n == 3) return 2;    // 1*2
        if(n == 4) return 4;    // 2*2
        int result = 1;
        while(n>4) {            // å½“ n å¤§äº 4 æ—¶ï¼Œåˆ†ç¦»å‡ºä¸€ä¸ª 3
            n -= 3;
            result *= 3;
        }
        return result *= n;     // å‰©ä¸‹ 3 æˆ– 4
    }
};


// 15:12--15:18(çœ‹ D1 æ€è·¯å’Œä»£ç )--17:29
// åŠ¨æ€è§„åˆ’
// è‡ªä¸‹è€Œä¸Šå¾—åˆ°æ¯ä¸ªæ•´æ•°çš„æœ€å¤§å€¼
class Solution {
public:
    int integerBreak(int n) {
        vector<int> dp(n+1, INT_MIN);   // iéœ€è¦ç­‰äº n
        dp[2] = 1;
        // ç›´æ¥æŠŠ i åˆ†æˆä¸¤ä¸ªæ•°: (i - j) * j
        // æŠŠ i åˆ†å‡ºä¸€ä¸ªæ•°ï¼Œå‰©ä¸‹çš„æŒ‰ç…§ dp ä¸­è®°å½•çš„åˆ†æ³•åˆ†ï¼šj * dp[i - j]
        // j ä» 1 è‡ªå¢åˆ° i/2ï¼šdp[i]
        for(int i=3; i<=n; i++) {       // i >= 3 æ‰éœ€è¦è®¡ç®—
            for(int j=1; j<=i/2; j++) { // j <= i/2 ,åé¢çš„ç›¸å½“äºé‡å¤è®¡ç®—
                // å¾ªç¯æ¯”è¾ƒ è‡ªèº«ã€ (i - j) * j å’Œ j * dp[i - 1] é‚£ä¸ªå¤§
                dp[i] = std::max(dp[i], std::max((i - j) * j, j * dp[i-j]));
            }
        }
        return dp[n];
    }
};




///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution {
private:
    vector<int> memo;

public:
    int integerBreak(int n) {
        memo = vector<int>(n + 1, -1);
        return dp(n);
    }

    // å®šä¹‰ï¼šæ‹†åˆ† n è·å¾—çš„æœ€å¤§ä¹˜ç§¯ä¸º dp(n)
    int dp(int n) {
        if (n == 0) {
            return 0;
        }
        if (n == 1) {
            return 1;
        }
        if (memo[n] != -1) {
            return memo[n];
        }

        // çŠ¶æ€è½¬ç§»æ–¹ç¨‹
        int res = INT_MIN;
        for (int i = 1; i <= n; i++) {
            res = std::max(res, i * std::max(dp(n - i), n - i));
        }
        memo[n] = res;
        return res;
    }
};


